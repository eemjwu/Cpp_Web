# 应用层编程
## 整体架构
框架分为接口层，路由层，应用层，工具层，静态资源层，各模块层分离，适合于协作开发：   
- 接口层：  
  - 分离出前台传入的参数，如果为 get 则为 url 中参数，post 则为 form中的json参数
  - 作为权限验证基于 Redis 实现 session 、cookie 机制，当登录成功在session中注册，否则返回登录界面
  - 封装request类，作为返回的总接口实现类，调用上述机制作为传入和返回的接口
  - // 目录结构图
- 路由层
  - 路由层为核心层，在 cgi 程序开始时(main 函数中),使用 C++ bind函数、与map容器，将URL与指定的函数绑定
  - 接口层处理数据后，得到此次访问的 URL ，路由层匹配相应的应用层逻辑处理函数，应用层处理完数据后，将结果数据通过接口层返回给 web 服务器，完成此次访问
  - // 程序流程逻辑图
- 应用层
  - 通过工具类函数与数据库交互，完成相应的业务逻辑，如登录验证，数据上传，下载等
  - 每个 URL 对应一个应用层处理类
  - 目录结构图
- 工具层
  - 封装便于使用的各种工具，如字符串处理，json处理，时间处理函数，日志信息，数据库操作函数，常用类型转换，字符编码与解码，正则表达式匹配异常信息过滤等
  - 每个处理工具各自一个类，互不影响
  - // 目录结构图
## 整体结构图
// 整体结构图